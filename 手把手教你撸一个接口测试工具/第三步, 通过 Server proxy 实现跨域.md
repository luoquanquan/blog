> åœ¨[å‰ä¸€ç¯‡]()æ–‡ç« ä¸­, æˆ‘ä»¬é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ --- [è·¨åŸŸ](). å…³äºè·¨åŸŸçš„å…·ä½“çŸ¥è¯†, åœ¨[ä¸Šä¸€ä¸ªç³»åˆ—]()æ–‡ç« ä¸­æœ‰è¯¦ç»†è¯´æ˜. è¿™é‡Œæˆ‘ä»¬å°è¯•è§£å†³è·¨åŸŸé—®é¢˜.

> è®¤æ€‚ä¹¦, å½“åˆå¹äº†ä¸€ä¸ª ğŸ‚ğŸºè¯´è¿™ä¸ªç³»åˆ—ä¼šç”¨ Java æ¥å†™, åœ¨è¿™é‡Œæ³è¯·å¤§å®¶åŸè°…æˆ‘çš„å¹´å°‘æ— çŸ¥

## æ€è·¯

æ—¢ç„¶ç›´æ¥é€šè¿‡æµè§ˆå™¨å®ç°æ¥å£æµ‹è¯•æœ‰å›°éš¾, å’‹åŠæ?
![2019-05-20-20-06-07](http://img.blog.niubishanshan.top/2019-05-20-20-06-07.png)

å¯ä»¥ç”¨æœåŠ¡å™¨å»è®¿é—®æœåŠ¡å™¨, åœ¨è·¨åŸŸç³»åˆ—æ–‡ç« é‡Œè¾¹æåˆ°è¿‡, å®ç°è·¨åŸŸçš„æ–¹æ¡ˆå¾ˆå¤šå¾ˆå¤š. æœ‰é£å¤´æ­£ç¡¬çš„ cors ä¹Ÿæœ‰æ˜æ—¥é»„èŠ± jsonp. è¿™é‡Œæ±‚å°ä¼™ä¼´ä»¬ä¸è¦é—®æˆ‘å­°ä¼˜å­°ç•¥, æŠ€æœ¯è¿™ä¸ªä¸œè¥¿åªæœ‰åˆä¸åˆé€‚, æ²¡æœ‰ä¼˜åŠ£å¯è¨€. ä¸€å¥è¯, ç”¨ç€çˆ½å°±å¥½~

è¿™é‡Œé»˜è®¤è®¤ä¸ºå¤§å®¶å¯¹è·¨åŸŸçŸ¥è¯†äº†ç„¶äºèƒ¸, è¿™é‡Œç›´æ¥ä¸Šæˆ‘ä»¬å®ç°æ¥å£æµ‹è¯•çš„æŠ€æœ¯æ€è·¯
![2019-05-20-20-24-04](http://img.blog.niubishanshan.top/2019-05-20-20-24-04.png)

é¦–å…ˆ, å¼€å‘ç¯å¢ƒä¸‹, å‰ç«¯é¡¹ç›®è¦è®¿é—®æˆ‘ä»¬è‡ªå·±çš„æœåŠ¡å™¨(ä¹Ÿå°±ä»£ç†æœåŠ¡å™¨)ä¹Ÿå­˜åœ¨è·¨åŸŸé—®é¢˜. è¿™é‡Œé€šè¿‡ cors å®ç°è·¨åŸŸè®¿é—®, å…¶æ¬¡å°±æ˜¯è®¿é—® api æœåŠ¡å™¨äº†, ç›´æ¥ç”¨ä»£ç†æœåŠ¡å™¨å¸¦ç€å‰ç«¯ä¼ æ¥çš„å‚æ•°å»è®¿é—®å³å¯. æœ€åå°±æ˜¯ api æœåŠ¡å™¨è¿”å›å€¼çš„å¤„ç†äº†. æŠŠ api æœåŠ¡çš„å“åº”å¤´å’Œå“åº” body ç›´æ¥è¿”å›ç»™å‰ç«¯å°±å¥½äº†å‘€. å‰ç«¯å±•ç¤ºä¸¤ä¸ª textarea.

## å®ç°åç«¯è¯·æ±‚ apiServer

### åˆå§‹åŒ–ä¸€ä¸ª node é¡¹ç›®

1. é¦–å…ˆåœ¨ github ä¸Šåˆ›å»ºä¸€ä¸ªç©ºçš„é¡¹ç›®
![create-repo](http://img.blog.niubishanshan.top/create-repo.gif)
ä¸ºä»€ä¹ˆè¦å…ˆåˆ›å»º github é¡¹ç›®å‘¢?
![2019-05-20-20-33-19](http://img.blog.niubishanshan.top/2019-05-20-20-33-19.png)

1. æœ¬åœ°å…‹éš†åˆšåˆšåˆ›å»ºçš„é¡¹ç›® `git clone {{ä½ çš„é¡¹ç›®åœ°å€}}`
1. è¿›å…¥ä½ çš„é¡¹ç›®ç›®å½•`cd {{ä½ çš„é¡¹ç›®åç§°}}`
1. åˆå§‹åŒ– `npm init -y`
1. å¦‚æœæ²¡æœ‰å‡ºç°æ„å¤–çš„è¯, é¡¹ç›®ç›®å½•ä¸‹ä¼šåˆ›å»ºä¸€ä¸ª package.json æ–‡ä»¶, æ–‡ä»¶å†…å®¹:
```json
{
  "name": "proxyServer",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/luoquanquan/proxyServer.git"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "bugs": {
    "url": "https://github.com/luoquanquan/proxyServer/issues"
  },
  "homepage": "https://github.com/luoquanquan/proxyServer#readme"
}
```
å¦‚æœä¹‹å‰åˆ›å»ºè¿‡ node é¡¹ç›®çš„å…„å¼Ÿä»¬åº”è¯¥çŸ¥é“, å¦‚æœè‡ªå·±ç›´æ¥æ‰§è¡Œ `npm init` çš„è¯ä¹Ÿå¯ä»¥ç”Ÿæˆè¿™ä¸ªæ–‡ä»¶, ä½†æ˜¯æ˜æ˜¾ä¸ä¼šæœ‰å„ç§ github ç›¸å…³çš„é“¾æ¥.

### å†™ä¸€ä¸ª hello world

1. ä¸‡å¹´ç¬¬ä¸€æ­¥, é…ä¸Š eslint æ²¡æœ‰æ ¼å¼åŒ–å·¥å…·æˆ‘æ˜¯æ²¡æ³•å†™ä»£ç çš„
1. å®‰è£… koa æ‰§è¡Œ `npm i koa -S`
1. ç„¶ååˆ›å»ºä¸€ä¸ª `index.js` æŠŠ koa [å®˜ç½‘](https://www.npmjs.com/package/koa) ç¤ºä¾‹ä»£ç æ‹·è´è¿‡æ¥
1. æœ€åæ‰§è¡Œ `node index.js`